:root{
  --bg:#0f172a;
  --card:#ffffff;
  --muted:#6b7280;
  --border:#e5e7eb;
  --accent:#2563eb;      /* blue-600 */
  --accent-2:#f59e0b;    /* amber-500 */
  --accent-3:#10b981;    /* emerald-500 */
  --accent-4:#ef4444;    /* red-500 */
  --chip:#f1f5f9;        /* slate-100 */
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;background:linear-gradient(180deg,#0f172a,#111827)}
.container{max-width:1260px;margin:24px auto;padding:0 16px}
h1,h2,h3{margin:8px 0 12px}
h1{color:#fff}
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
}
.subtle{color:var(--muted);font-size:.9rem;margin-top:4px}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;gap:12px}
.topbar .topbar-right{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.badge{display:inline-flex;gap:6px;align-items:center;padding:4px 10px;border-radius:999px;background:var(--chip);border:1px solid var(--border);font-size:.8rem;color:#0f172a}
.badge.blue{background:#dbeafe;border-color:#bfdbfe}
.badge.amber{background:#fef3c7;border-color:#fde68a}
.badge.green{background:#d1fae5;border-color:#a7f3d0}
.badge.red{background:#fee2e2;border-color:#fecaca}

button{
  border:none;padding:10px 14px;border-radius:12px;cursor:pointer;
  background:var(--accent);color:white;transition:.15s transform ease, .2s opacity ease
}
button:hover{opacity:.95;transform:translateY(-1px)}
button.secondary{background:#374151}
button.mini{padding:6px 10px;border-radius:10px;font-size:.85rem}
button.mini.danger{background:var(--accent-4)}
label{display:flex;flex-direction:column;gap:6px;margin:8px 0}
input,select{padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:#fff}
input[type="number"]{max-width:220px}
.hint{color:var(--muted);font-size:.9rem}
.grid{display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
.grid-wide{display:grid;grid-template-columns:1fr;gap:16px}
.card.wide{grid-column:1 / -1}
.kpis{display:flex;gap:16px;flex-wrap:wrap}
.kpi{background:#f8fafc;border:1px solid var(--border);border-radius:12px;padding:12px 16px;min-width:160px}
.kpi-label{color:var(--muted);font-size:.85rem}
.kpi-value{font-weight:800;font-size:1.5rem}
.table-wrap{overflow:auto}
table{border-collapse:collapse;width:100%}
th,td{border-bottom:1px solid #eee;padding:10px 10px;text-align:left;vertical-align:top}
thead.sticky-head th{position:sticky;top:0;background:#fff;z-index:1}
td.neg{color:#b91c1c;font-weight:700}
td.pos{color:#065f46;font-weight:700}
td[contenteditable="true"]{background:#fbfdff}
.installments{grid-template-columns:1fr;gap:8px}
.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.split{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.perms-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:12px}
.perm-card{border:1px dashed var(--border);border-radius:12px;padding:12px}
.tabs{display:flex;gap:12px;margin:6px 0 16px}
.tab{background:var(--chip);color:#0f172a;border:1px solid var(--border)}
.tab.active{background:var(--accent);color:#fff;border-color:transparent}
.tabpage{display:none}
.tabpage.active{display:block}
.hr{border:0;border-top:1px solid var(--border);margin:12px 0}

/* Toast */
.toast{
  position:fixed;left:50%;bottom:24px;transform:translateX(-50%);
  background:#111827;color:#fff;padding:10px 14px;border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.28);opacity:0;pointer-events:none;transition:.2s opacity ease;
}
.toast.show{opacity:1}

/* Installment chip + progress */
.chip-row{display:flex;gap:6px;align-items:center;flex-wrap:wrap}
.i-chip{font-size:.78rem;padding:2px 8px;border-radius:999px;border:1px solid var(--border);background:#fff}
.i-chip.red{background:#fee2e2}
.i-chip.amber{background:#fef3c7}
.i-chip.green{background:#dcfce7}
.progress{
  width:120px;height:8px;border-radius:999px;background:#e5e7eb;overflow:hidden;display:inline-block;vertical-align:middle
}
.progress > span{display:block;height:100%;background:var(--accent);}

/* Monthly summary grid */
.month-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px}
.toplist li{display:flex;justify-content:space-between;border-bottom:1px dashed #eee;padding:6px 0}
.stat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}

@media (max-width:1100px){.grid{grid-template-columns:1fr}.split{grid-template-columns:1fr}}
